{"version":3,"sources":["../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/react-scrollspy/lib/throttle.js","private_pages/ErlangDBG.js","../node_modules/reactstrap/es/NavLink.js","private_pages/ErlangDBG/CodeBlock.js","../node_modules/lodash.isobject/index.js","private_pages/ErlangDBG/sections/Introduction.js","private_pages/ErlangDBG/sections/Setup.js","private_pages/ErlangDBG/sections/BasicScenario.js","private_pages/ErlangDBG/sections/TraceFunction.js","private_pages/ErlangDBG/sections/FindCaller.js","private_pages/ErlangDBG/sections/Timestamps.js","private_pages/ErlangDBG/sections/CustomHandler.js","private_pages/ErlangDBG/sections/CustomHandlerMessageFilter.js","private_pages/ErlangDBG/sections/CustomHandlerSignals.js","private_pages/ErlangDBG/sections/RegisteredProcessesTracking.js","private_pages/ErlangDBG/sections/Cleanup.js","private_pages/ErlangDBG/sections/Conclusion.js","main_frame/payload_body/routes/cv/HeadersSupport.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/reactstrap/es/Row.js","../node_modules/reactstrap/es/Col.js","private_pages/ErlangDBG/ErlangDbgText.js","../node_modules/react-scrollspy/lib/Scrollspy.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/inherits.js"],"names":["_setPrototypeOf","o","p","module","exports","Object","setPrototypeOf","__proto__","defineProperty","value","default","_default","fn","last","timer","threshold","arguments","length","undefined","now","Date","clearTimeout","setTimeout","ErlangDBG","props","_this","_home_travis_build_flmath_greens_pages_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_travis_build_flmath_greens_pages_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_flmath_greens_pages_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","onHashchange","bind","_home_travis_build_flmath_greens_pages_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","rootEl","document","querySelector","hashEl","location","hash","scrollIntoView","scrollTo","window","addEventListener","removeEventListener","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","id","reactstrap__WEBPACK_IMPORTED_MODULE_7__","fluid","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","xs","size","offset","sm","md","lg","xl","react_scrollspy__WEBPACK_IMPORTED_MODULE_12___default","basename","process","items","currentClassName","reactstrap__WEBPACK_IMPORTED_MODULE_11__","href","_ErlangDBG_ErlangDbgText__WEBPACK_IMPORTED_MODULE_10__","React","Component","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_4___default","n","prop_types__WEBPACK_IMPORTED_MODULE_5__","prop_types__WEBPACK_IMPORTED_MODULE_5___default","classnames__WEBPACK_IMPORTED_MODULE_6__","classnames__WEBPACK_IMPORTED_MODULE_6___default","_utils__WEBPACK_IMPORTED_MODULE_7__","propTypes","tag","innerRef","oneOfType","object","func","string","disabled","bool","active","className","cssModule","onClick","any","NavLink","_React$Component","_proto","prototype","e","preventDefault","render","_this$props","Tag","attributes","classes","ref","defaultProps","__webpack_exports__","CodeBlock","language","react__WEBPACK_IMPORTED_MODULE_5___default","react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_6__","style","coy","PureComponent","type","r","d","Introduction","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","Setup","react_markdown__WEBPACK_IMPORTED_MODULE_1__","react_markdown__WEBPACK_IMPORTED_MODULE_1___default","_CodeBlock__WEBPACK_IMPORTED_MODULE_2__","source","renderers","code","BasicScenario","input","TraceFunction","FindCaller","Timestamps","CustomHandler","CustomHandlerMessageFilter","CustomHandlerSignals","RegisteredProcessesTracking","Cleanup","Conclusion","CvHeader","CvShortHeader","reactstrap__WEBPACK_IMPORTED_MODULE_1__","reactstrap__WEBPACK_IMPORTED_MODULE_2__","children","self","ReferenceError","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","noGutters","form","Row","lodash_isobject__WEBPACK_IMPORTED_MODULE_2__","lodash_isobject__WEBPACK_IMPORTED_MODULE_2___default","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","prop_types__WEBPACK_IMPORTED_MODULE_4__","prop_types__WEBPACK_IMPORTED_MODULE_4___default","classnames__WEBPACK_IMPORTED_MODULE_5__","classnames__WEBPACK_IMPORTED_MODULE_5___default","_utils__WEBPACK_IMPORTED_MODULE_6__","stringOrNumberProp","number","columnProps","shape","order","widths","array","getColumnSizeClass","isXs","colWidth","colSize","Col","colClasses","forEach","i","columnProp","_classNames","colSizeInterfix","colClass","push","_colClass","_main_frame_payload_body_routes_cv_HeadersSupport__WEBPACK_IMPORTED_MODULE_1__","_sections_Introduction__WEBPACK_IMPORTED_MODULE_2__","_sections_Setup__WEBPACK_IMPORTED_MODULE_3__","_sections_BasicScenario__WEBPACK_IMPORTED_MODULE_4__","_sections_TraceFunction__WEBPACK_IMPORTED_MODULE_5__","_sections_FindCaller__WEBPACK_IMPORTED_MODULE_6__","_sections_Timestamps__WEBPACK_IMPORTED_MODULE_7__","_sections_CustomHandler__WEBPACK_IMPORTED_MODULE_8__","_sections_CustomHandlerMessageFilter__WEBPACK_IMPORTED_MODULE_9__","_sections_CustomHandlerSignals__WEBPACK_IMPORTED_MODULE_10__","_sections_RegisteredProcessesTracking__WEBPACK_IMPORTED_MODULE_11__","_sections_Cleanup__WEBPACK_IMPORTED_MODULE_12__","_sections_Conclusion__WEBPACK_IMPORTED_MODULE_13__","ErlangDbgText","_interopRequireDefault","_extends2","_defineProperty2","_toConsumableArray2","_classCallCheck2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_createClass2","_inherits2","_propTypes","_react","_classnames","_throttle","Scrollspy","state","targetItems","inViewState","isScrolledPast","_handleSpy","key","get","arrayOf","isRequired","scrolledPastClassName","componentTag","onUpdate","map","item","getElementById","val","newArray","max","_getScrollDimension","scrollTop","doc","documentElement","body","parentNode","scrollHeight","targets","elemsInView","elemsOutView","viewStatusList","hasInViewAlready","currentContent","isInView","_isInView","isLastItem","isScrolled","_isScrolled","_isAtBottom","pop","apply","_fillArray","inView","outView","scrolledPast","_getScrolledPast","el","rootRect","getBoundingClientRect","rect","winH","height","innerHeight","scrollBottom","elTop","top","elBottom","offsetHeight","_this$_getScrollDimen2","some","hasFoundInView","_this2","elemensViewState","_getElemsViewState","currentStatuses","setState","_update","prevStatuses","b","every","index","indexOf","_spy","_initSpyTarget","_initFromProps","onEvent","offEvent","_this3","_this$props2","counter","Children","child","idx","ChildTag","childClass","concat","itemClass","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","Array","isArray","arr2","iter","Symbol","iterator","toString","from","TypeError","instance","Constructor","_typeof","assertThisInitialized","_typeof2","obj","constructor","_getPrototypeOf","getPrototypeOf","_defineProperties","target","descriptor","enumerable","configurable","writable","protoProps","staticProps","subClass","superClass","create"],"mappings":"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","file":"static/js/2.38c54259.chunk.js","sourcesContent":["function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar throttle = function throttle(fn) {\n  var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n  var last;\n  var timer;\n  return function () {\n    var now = +new Date();\n    var timePassed = !!last && now < last + threshold;\n\n    if (timePassed) {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        last = now;\n        fn();\n      }, threshold);\n    } else {\n      last = now;\n      fn();\n    }\n  };\n};\n\nvar _default = throttle;\nexports.default = _default;","import React from \"react\";\nimport { Container, Row, Col } from \"reactstrap\";\n\nimport ErlangDbgText from \"./ErlangDBG/ErlangDbgText\";\nimport { NavLink } from \"reactstrap\";\nimport Scrollspy from \"react-scrollspy\";\n\nclass ErlangDBG extends React.Component {\n  constructor(props){\n    super(props)\n    this.onHashchange = this.onHashchange.bind(this);\n  }\n\n  onHashchange(){\n      const rootEl = document.querySelector(\"#payload_body\")\n      const hashEl =\n        this.props.location.hash ? document.querySelector(this.props.location.hash) : null\n      if(hashEl)\n      hashEl.scrollIntoView()\n      else\n      rootEl.scrollTo(0,0)\n      }\n componentDidMount(){\n    window.addEventListener('hashchange', this.onHashchange, false);\n    }\ncomponentWillUnmount() {\n    window.removeEventListener('hashchange', this.onHashchange, false);\n   }\n\n   render(){\n    return (\n      <div id=\"cvmaindiv\">\n        <Container fluid id=\"cvcontainer\">\n          <Row id=\"cvrow\">\n            <Col\n              id=\"navcol\"\n              xs={{ size: 0, offset: 0 }}\n              sm={{ size: 0, offset: 0 }}\n              md={{ size: 2, offset: 1 }}\n              lg={{ size: 2, offset: 0 }}\n              xl={{ size: 2, offset: 1 }}\n            >\n              <Scrollspy basename={process.env.PUBLIC_URL}\n                offset={-200}\n                items={[\n                    \"Introduction\",\n                    \"Setup\",\n                    \"BasicScenario\",\n                    \"TraceFunction\",\n                    \"FindCaller\",\n                    \"Timestamps\",\n                    \"CustomHandler\",\n                    \"CustomHandlerMessageFilter\",\n                    \"CustomHandlerSignals\",\n                    \"RegisteredProcessesTracking\",\n                    \"Cleanup\",\n                    \"Conclusion\"\n                ]}\n                currentClassName=\"active\"\n                rootEl=\"#payload_body\"\n              >\n                <NavLink href=\"#Introduction\">Introduction</NavLink>\n                <NavLink href=\"#Setup\">Setup</NavLink>\n                <NavLink href=\"#BasicScenario\">Basic Scenario</NavLink>\n                <NavLink href=\"#TraceFunction\">Trace Function</NavLink>\n                <NavLink href=\"#FindCaller\">Function Caller Finding</NavLink>\n                <NavLink href=\"#Timestamps\">Timestamps</NavLink>\n                <NavLink href=\"#CustomHandler\">Custom Handler: Introduction</NavLink>\n                <NavLink href=\"#CustomHandlerMessageFilter\">Custom Handler: Message Filter</NavLink>\n                <NavLink href=\"#CustomHandlerSignals\">Custom Handler: Signals</NavLink>\n                <NavLink href=\"#RegisteredProcessesTracking\">Registered Processes Tracking</NavLink>\n                <NavLink href=\"#Cleanup\">Cleanup</NavLink>\n                <NavLink href=\"#Conclusion\">Conclusion</NavLink>\n              </Scrollspy>\n            </Col>\n            <Col id = \"cvmain\">\n              <ErlangDbgText> </ErlangDbgText>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n}\n}\n\nexport default ErlangDBG;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func, PropTypes.string]),\n  disabled: PropTypes.bool,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  onClick: PropTypes.func,\n  href: PropTypes.any\n};\nvar defaultProps = {\n  tag: 'a'\n};\n\nvar NavLink =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(NavLink, _React$Component);\n\n  function NavLink(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = NavLink.prototype;\n\n  _proto.onClick = function onClick(e) {\n    if (this.props.disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (this.props.href === '#') {\n      e.preventDefault();\n    }\n\n    if (this.props.onClick) {\n      this.props.onClick(e);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        active = _this$props.active,\n        Tag = _this$props.tag,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"cssModule\", \"active\", \"tag\", \"innerRef\"]);\n\n    var classes = mapToCssModules(classNames(className, 'nav-link', {\n      disabled: attributes.disabled,\n      active: active\n    }), cssModule);\n    return React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      onClick: this.onClick,\n      className: classes\n    }));\n  };\n\n  return NavLink;\n}(React.Component);\n\nNavLink.propTypes = propTypes;\nNavLink.defaultProps = defaultProps;\nexport default NavLink;","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { coy } from \"react-syntax-highlighter/dist/cjs/styles/prism\";\n\nclass CodeBlock extends PureComponent {\n  static propTypes = {\n    value: PropTypes.string.isRequired,\n    language: PropTypes.string\n  };\n\n  static defaultProps = {\n    language: null\n  };\n\n  render() {\n    const { language, value } = this.props;\n    return (\n      <SyntaxHighlighter language={language} style={coy}>\n        {value}\n      </SyntaxHighlighter>\n    );\n  }\n}\n\nexport default CodeBlock;\n","/**\n * lodash 3.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;","import React from \"react\";\n\nexport default function Introduction(props) {\n  return (\n    <div className=\"my_md_container\">\n        <p>\n      An important aspect of the Erlang/OTP platforms maturity is the presence of native debug library.\n      Unfortunately, the dbg module is not only steep to learn but also can be very harmful if misused (see <a href=\"#CustomHandler\">Custom Handler: Introduction</a>).\n      In this post, I show how to use the tool, avoid pitfalls and extract the needed information.\n      The article is composed of scenarios starting with the most basic and then expanding it with the usage of the module different caveats.\n      Each scenario uses very simple gen_statem as target practice, the setup of it is in the following chapter.\n        </p>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\n\nexport default function Setup(props) {\n\nconst input =\n'The tracing_experiments application is very simple gen_statem written specifically to test debugging facilities.\\n'+\n'You can find it on [my GitHub repo](https://github.com/flmath/tracing_experiments). '+\n'All experiments are run in a shell started with:\\n\\n'+\n'```bash\\n'+\n'$ local_rebar/rebar3 as dbg shell\\n'+\n'``` \\n\\n'+\n'for a clear view.'\n\n  return (\n    <div className=\"my_md_container\">\n    <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nconst input =\n'Let us start with a basic scenario. I will omit some of the messages printed out by the shell for clarity.\\n'+\n\n'```erlang\\n'+\n' > dbg:tracer(). \\n'+\n' {ok,<0.218.0>}\\n'+\n'```\\n'+\n'```erlang\\n'+\n' > dbg:p(all,[c]).\\n'+\n' {ok,[{matched,nonode@nohost,71}]}\\n'+\n'```\\n'+\n'```erlang\\n'+\n' > dbg:tp(tracing_experiments, []).\\n'+\n' (<0.117.0>) call tracing_experiments:module_info()\\n'+\n' {ok,[{matched,nonode@nohost,13}]}\\n'+\n'```\\n'+\n'Now lets switch traced process to more busy state:\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n'```\\n'+\n'We get messages in a loop:\\n'+\n'```erlang\\n'+\n' tracing_experiments.erl:86:<0.134.0>: io:format called from state keep_heavy_state number 8\\n'+\n' (<0.134.0>) call tracing_experiments:heavy_state(timeout,1000,#{iterator => 8})\\n'+\n' ...\\n'+\n'```\\n'+\n'Lets switch back:\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' ok\\n'+\n'```\\n'+\n\n'The first message comes from debug function we have put into the code.\\n'+\n'The second is actually printed out by our `dbg:tracer/0`\\n'+\n'But if you look into the code, there is another `traced_function/2` that is present in the\\n'+\n'tracing_experiments module that is not printed out. It is because `dbg:tp/2` prints only the exported functions.\\n'+\n'For local functions we need also to run:\\n'+\n'```erlang\\n'+\n' > dbg:tpl(tracing_experiments, []).\\n'+\n' (<0.117.0>) call tracing_experiments:module_info()\\n'+\n' {ok,[{matched,nonode@nohost,14}]}\\n'+\n'```\\n'+\n'Let us see how it works:\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' (<0.117.0>) call tracing_experiments:switch_state()\\n'+\n' tracing_experiments.erl:86:<0.134.0>: io:format called from state enter_heavy_state number 26\\n'+\n' (<0.134.0>) call tracing_experiments:light_state(cast,switch_state,#{iterator => 26})\\n'+\n' (<0.134.0>) call tracing_experiments:traced_function(enter_heavy_state,26)\\n'+\n' ok\\n'+\n'```\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state()\\n'+\n' ok \\n'+\n'```\\n'+\n\n'So we can see additional printout for `traced_function/2`.\\n'+\n'Which concludes the most basic scenario.\\n'+\n'Let clean our tracing setup.\\n'+\n'```erlang\\n'+\n' > dbg:ctp(\\'_\\').\\n'+\n' ok\\n'+\n'```\\n'+\n'Lets double check it.\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' tracing_experiments.erl:86:<0.134.0>: io:format called from state enter_light_state number 39\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' ok\\n'+\n'```\\n'+\n'The call tracing is set off.\\n'\n\nexport default function BasicScenario(props) {\n\n  return (\n    <div className=\"my_md_container\">\n     <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nexport default function TraceFunction(props) {\n\nconst input =\n'Tracing all functions in a module is sometimes too much for printout readability.\\n'+\n'Fortunately, it is easy to narrow tracing to a specific function. Lets trace `traced_function/2`. First, let us use `dbg:tp`\\n'+\n'```erlang\\n'+\n' > dbg:tp({tracing_experiments, traced_function, 2},[]),\\n'+\n' > tracing_experiments:switch_state().\\n'+                 \n' tracing_experiments.erl:86:<0.134.0>: io:format called from state enter_heavy_state number 49\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' ok\\n'+\n'```\\n'+\n\n'Since `traced_function/2` is local we do not get any additional traces. Lets add local tracing.\\n'+\n'```erlang\\n'+\n' > dbg:tpl({tracing_experiments, traced_function, 2},[]),\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' tracing_experiments.erl:86:<0.134.0>: io:format called from state enter_light_state number 108\\n'+\n' (<0.134.0>) call tracing_experiments:traced_function(enter_light_state,108)\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' ok\\n'+\n'```\\n'+\n'It works fine, lets extract a little more information, \\n'+\n'the second argument in `dbg:tp/2` can take a form of `[{ MatchHead, MatchConditions, MatchBody }]`.\\n'+\n\n'MatchHead can be `\\'_\\'` for anonymous variables or we can match it to the variable `\\'$1\\'` to display it later.\\n'+\n\n'```erlang\\n'+\n' > dbg:tpl({tracing_experiments, traced_function, 2},[{\\'$1\\', [], [{display, \\'$1\\'}]}]),\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' [enter_light_state,228]\\n'+\n' tracing_experiments.erl:86:<0.134.0>: io:format called from state enter_light_state number 228\\n'+\n' (<0.134.0>) call tracing_experiments:traced_function(enter_light_state,228)\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' ok\\n'+\n'```\\n'+\n\n'So the function is called with parameters enter_light_state and 228.\\n'+\n'Lets return in body two more pieces of information.\\n'+\n'The first what values is returned from the function:\\n'+\n\n'```erlang\\n'+\n' > dbg:tpl({tracing_experiments, traced_function, 2},[{\\'_\\', [], [ {return_trace}]}]),\\n'+\n' > tracing_experiments:switch_state().\\n'+                                         \n' tracing_experiments.erl:86:<0.134.0>: io:format called from state enter_heavy_state number 5\\n'+\n' (<0.134.0>) call tracing_experiments:traced_function(enter_heavy_state,5)\\n'+\n' (<0.134.0>) returned from tracing_experiments:traced_function/2 -> ok\\n'+\n' ok\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' ok\\n'+\n'```\\n'+\n'It returns an `ok` atom from debug printing function. \\n'+\n'It is worth mentioning that according to documentation `{return_trace}` can\\n'+\n'interfere with the system behavior.\\n'+\n'If you want also the `\\'EXIT\\'` messages to be displayed you can replace `{return_trace}` with `{exception_trace}` instead.\\n'+\n'\\n'+\n'Reference: [Erlang documentation: functions allowed only for tracing.](http://erlang.org/doc/apps/erts/match_spec.html#functions-allowed-only-for-tracing)\\n'\n\n\n  return (\n    <div className=\"my_md_container\">\n      <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nexport default function FindCaller(props) {\n\nconst input =\n'Another information we could want to retrieve is the function that triggered our traced function.\\n'+\n'```erlang\\n'+\n' > dbg:tpl({tracing_experiments, traced_function, 2},\\n'+\n'    [{\\'_\\', [], [ {message,{caller}}]}]).\\n'+\n' {ok,[{matched,nonode@nohost,1},{saved,4}]} \\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' tracing_experiments.erl:86:<0.134.0>: io:format called from state enter_heavy_state number 13 \\n'+\n' (<0.134.0>) call tracing_experiments:traced_function(enter_heavy_state,13)  \\n'+\n'   ({tracing_experiments, light_state, 3})\\n'+\n' ok\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n'```\\n'\n  return (\n    <div className=\"my_md_container\">\n     <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nexport default function Timestamps(props) {\n\nconst input =\n'Let us retrieve timestamps of entering and leaving the function.\\n'+\n'To get them to need to add another two flags in `dbg:p/2`, the `strict_monotonic_timestamp`, and `return_to`\\n'+\n\n'```erlang\\n'+\n' > dbg:p(all,[call, strict_monotonic_timestamp, return_to]),\\n'+\n' > dbg:tpl({tracing_experiments, traced_function, 2},\\n'+\n'    [{\\'$1\\', [], [{display, \\'$1\\'}, {return_trace}]}]).\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' tracing_experiments.erl:86:<0.134.0>: io:format called from state enter_heavy_state number 91\\n'+\n' (<0.134.0>) call tracing_experiments:traced_function(enter_heavy_state,91)\\n'+\n'    ({tracing_experiments, light_state, 3})\\n'+\n' (Timestamp: {-576091093700236178, -576460752303423401})\\n'+\n'\\n'+\n' (<0.134.0>) returning to tracing_experiments:light_state/3 \\n'+\n'    (Timestamp: {-576091093699220788, -576460752303423400})\\n'+\n' ok\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' ok\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' TimeDiff = 576091093700236178-576091093699220788.\\n'+\n' 1015390\\n'+\n' erlang:convert_time_unit(TimeDiff, native, millisecond).\\n'+\n' 1\\n'+\n'```\\n'+\n'So, we spent one millisecond in `traced_function/2`.\\n'\n\n\n  return (\n    <div className=\"my_md_container\">\n      <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nexport default function CustomHandler(props) {\n\nconst input =\n\n'The problem with all of the commands above is, '+\n'that all the messages are printed out to the shell. What '+\n'in case of tracing very active function ends up blocking the shell by spamming it with a continuous unreadable amount of printouts.\\n'+\n\n'The classic example provided on https://massemanet.github.io/eper/redbug\\n'+\n'is: \\n'+\n'(CAUTION: it will hang the shell, run it in separate only to see how it looks like).\\n'+\n'```erlang\\n'+\n' > dbg:tracer(),dbg:p(all,[m]).\\n'+\n' {ok,[{matched,nonode@nohost,71}]}\\n'+\n'```\\n'+\n'To deal with that we need to customize the way we are reading our messages. \\n'+\n'Instead of the `dbg:trace/0` we use the `dbg:trace/2` which takes as first argument an atom. Possible values are:\\n'+\n'port - the trace messages are sent to port\\n'+\n'process - we handle trace messages with custom function\\n'+\n'module - we implement trace module\\n'+\n\n'Since we consider here scenario with limited options '+\n'(otherwise it is just better to install one of the mentioned frameworks), we will use the process case. '+\n'In that scenario, the second argument of the `dbg:trace/2` has a form of a tuple: `{Fun, InitData}`. '+\n'The Fun is a function that takes two arguments. '+\n'The first is the received message and the second is the accumulator returned from the previous iteration. '+\n'The `InitData` is a starting value of the accumulator. '+\n'In other words, it works like `lists:foldl/3` with the difference that instead input list we process received trace messages.\\n'+\n\n'Let us start with a Fun that will assure that dbg will stop after receiving exactly one message, '+\n'eliminating the possibility that we hang the shell by flooding it with a continuous stream of messages.\\n'+\n'\\n'+\n'```erlang\\n'+\n' > Fun = fun(X, Acc) ->\\n'+\n' > io:format(\"Value X:~p Value Acc: ~p~n\", [X,Acc]), \\n'+\n' > dbg:stop(),\\n'+\n' > [X|Acc]\\n'+\n' > end.\\n'+\n' #Fun<erl_eval.12.128620087> \\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > dbg:ctp(\\'_\\').\\n'+\n' {ok,[]} \\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > dbg:tracer(process,{Fun,[]}),\\n'+\n' > dbg:p(all,[c]),\\n'+\n' > dbg:tpl({tracing_experiments, traced_function, 2},[{\\'_\\', [], []}]).\\n'+\n' {ok,[{matched,nonode@nohost,1},{saved,1}]} \\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+                      \n' tracing_experiments.erl:86:<0.134.0>: io:format called from state enter_heavy_state number 56\\n'+\n' Value X:{trace,<0.134.0>,call,\\n'+\n' {tracing_experiments,traced_function,[enter_heavy_state,56]}} Value Acc: [] \\n'+\n' ok \\n'+\n'\\n'+\n' > tracing_experiments.erl:86:<0.134.0>: io:format called from state keep_heavy_state number 57 \\n'+\n'\\n'+\n' > tracing_experiments.erl:86:<0.134.0>: io:format called from state keep_heavy_state number 58 \\n'+\n' ...\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > tracing_experiments:switch_state().\\n'+\n' ok \\n'+\n'```\\n'+\n'From hard-coded debug messages, you can see that `traced_function/2` is called continuously, '+\n'but only the traces for state 56 are printed out. So we have a working safe switch.\\n'+\n'Lets see what will happened if we go for classical example:\\n'+\n'```erlang\\n'+\n' > dbg:tracer(process,{Fun,[]}). {ok,<0.655.0>}\\n'+\n' > dbg:p(all,[m]). \\n'+\n' ... long but finite output ...\\n'+\n'```\\n'+\n'The shell is operational.\\n'\n\n  return (\n    <div className=\"my_md_container\">\n     <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nexport default function CustomHandlerMessageFilter(props) {\n\nconst input =\n\n'Now we can customize our processing function.\\n'+\n'Let it print the first 2 messages that state number is multiplication of 5:\\n'+\n'For clarity lets define trace record in our shell\\n'+\n'```erlang\\n'+\n' > rd(trace, {pid, type, mfa}).\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' Fun25 = fun\\n'+\n'  (X, 2) ->\\n'+\n'  dbg:stop();\\n'+\n'  (#trace{type=call,mfa={_,_,[keep_heavy_state, X]}}, Acc)\\n'+\n'  when 0==(X rem 5) ->\\n'+\n'  io:format(\"Value X:~p Value Acc: ~p~n\", [X,Acc]),\\n'+\n'  Acc+1;\\n'+\n' (_, Acc) -> Acc\\n'+\n' end.\\n'+\n' #Fun<erl_eval.12.128620087> \\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > dbg:tracer(process,{Fun25,0}),\\n'+\n' > dbg:p(all,[c]),\\n'+\n' > dbg:tpl({tracing_experiments, traced_function, 2},[{\\'_\\', [], []}]).\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n'tracing_experiments:switch_state().\\n'+\n'...\\n'+\n'tracing_experiments:switch_state().\\n'+\n'```\\n'+\n'Now we know how to add pattern matching to our not-blocking-shell solution.\\n'\n\n  return (\n    <div className=\"my_md_container\">\n    <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nexport default function CustomHandlerSignals(props) {\n\nconst input =\n\n'One thing extra we should learn is catching exit and error messages.\\n'+\n'We can use the Fun function to see how those messages look like:\\n'+\n'```erlang\\n'+\n' FunExit = fun\\n'+\n'  (#trace{type=exit,mfa=Reason}, MsgNo)->\\n'+\n'  io:format(\"Value: ~p Value MsgNo: ~p~n\", [{exit, Reason}, MsgNo]),\\n'+\n'  dbg:stop();\\n'+\n' (_, MsgNo) -> MsgNo\\n'+\n' end.\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > dbg:tracer(process,{FunExit,0}).\\n'+\n'```\\n'+\n' Lets trace process events, aside of calls.\\n'+\n'\\n'+\n'```erlang\\n'+\n' > dbg:p(all,[p,c]).\\n'+\n'```\\n'+\n'\\n'+\n' And invoke termination with one of the below functions:\\n'+\n'```erlang\\n'+\n' gen_statem:cast({global, tracing_experiments}, wrong_cast).\\n'+\n' exit(global:whereis_name(tracing_experiments), \"something\").\\n'+\n' exit(global:whereis_name(tracing_experiments), kill).\\n'+\n' exit(global:whereis_name(tracing_experiments), normal).\\n'+\n' ...\\n'+\n'```\\n'+\n'Of course, when we are dealing with local processes we should replace \\n'+\n'the `global:whereis_name(ProcessName)` with the `whereis(ProcessName)`.'\n\n  return (\n    <div className=\"my_md_container\">\n     <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nexport default function RegisteredProcessesTracking(props) {\n\nconst input =\n'If the system consists of many OTP processes that are handled \\n'+\n'with special messages and the process we are interested in \\n'+\n'is registered it is worth to narrow our search by tracing specific process.\\n'+\n\n'```erlang\\n'+\n' > dbg:tracer(process,{Fun,[]}),\\n'+\n' > Pid = global:whereis_name(tracing_experiments).\\n'+\n' <0.134.0>\\n'+\n'```\\n'+\n'\\n'+\n'```erlang\\n'+\n' > dbg:p(global:whereis_name(tracing_experiments), [c,p]).\\n'+\n' {ok,[{matched,nonode@nohost,1}]}\\n'+\n'```\\n'\n\nreturn (\n    <div className=\"my_md_container\">\n     <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nexport default function Cleanup(props) {\n\nconst input =\n'Let us purge the tracing from the system.\\n'+\n'First, clean up the process flags.\\n'+\n'```erlang\\n'+\n' > dbg:p(all,clear).\\n'+\n'```\\n'+\n'Remove function tracing.\\n'+\n'```erlang\\n'+\n' > dbg:ctp(\\'_\\').\\n'+\n'```\\n'+\n'Shutdown the debug tracer.\\n'+\n'```erlang\\n'+\n' > dbg:stop().\\n'+\n'```\\n'\n\n  return (\n    <div className=\"my_md_container\">\n     <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactMarkdown from 'react-markdown';\nimport CodeBlock from \"../CodeBlock\";\n\nexport default function Conclusion(props) {\n\nconst input =\n\n'* First, try to check other sources of information, in most cases, the erlang dump file should be enough.\\n'+\n'\\n'+\n'* If it is possible to install some debug/test framework instead, for example:\\n\\n'+\n'- https://massemanet.github.io/eper/redbug\\n\\n'+\n'- https://ferd.github.io/recon/\\n\\n'+\n\n'* If you are a consultant check your insurance.\\n'+\n'\\n'+\n'* Since the `return_trace` (and `exception_trace`) flag is potentially behavior-changing we\\'d better avoid it.\\n'+\n'\\n'+\n'* I have omitted `seq_trace` utilities, on purpose, I do not feel well when a single press of the tab key can hang your shell. '+\n'But if you are comfortable with sequence tracing on production nodes, then why have you read through this document in the first place?\\n'+\n'\\n'+\n'* If you still see need to use dbg on live node start from writing \\n'+\n'a processing function that has message counter as an accumulator and '+\n'safeguards to `dbg:stop/0` after a specific number of printed messages.\\n'+\n'\\n'+\n'* It is good when the number of messages is safeguarded in the first header of the defined function (see [`Fun25`](#CustomHandlerMessageFilter)).\\n\\n'+\n'* Alternatively just run `dbg:stop/0` after the first match if you don\\'t need to catch more than one message.\\n'+\n\n'You can mail me: flmathematic at gmail.com.'\n\n  return (\n    <div className=\"my_md_container\">\n     <ReactMarkdown source={input} renderers={{ code: CodeBlock }}/>\n    </div>\n  );\n}\n","import React from 'react';\nimport {Row, Col} from \"reactstrap\";\nfunction CvHeader(props)\n{\n  return (\n    <div className=\"my_cv_header_container\">\n\n      <Row className=\"my_cv_header_container_row\">\n\n      <Col>\n      <hr className=\"my_cv_header\" />\n      <h2 className=\"my_cv_header\"> {props.children}{\" \"}</h2>\n      <hr className=\"my_cv_header\" />\n      </Col>\n      </Row>\n\n    </div>\n);\n}\n\nfunction CvShortHeader(props)\n{\n  return (\n    <div className=\"my_cv_header_container\">\n<br />\n      <Row className=\"my_cv_header_container_row\">\n\n      <Col>\n\n      <h2 className=\"my_cv_header\"> {props.children}{\" \"}</h2>\n      </Col>\n      </Row>\n\n    </div>\n);\n}\n\nexport {CvHeader, CvShortHeader}\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  noGutters: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  form: PropTypes.bool\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Row = function Row(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      noGutters = props.noGutters,\n      Tag = props.tag,\n      form = props.form,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"noGutters\", \"tag\", \"form\"]);\n\n  var classes = mapToCssModules(classNames(className, noGutters ? 'no-gutters' : null, form ? 'form-row' : 'row'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nRow.propTypes = propTypes;\nRow.defaultProps = defaultProps;\nexport default Row;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport isobject from 'lodash.isobject';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string, PropTypes.shape({\n  size: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string]),\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes = {\n  tag: tagPropType,\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  widths: PropTypes.array\n};\nvar defaultProps = {\n  tag: 'div',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Col = function Col(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      widths = props.widths,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"widths\", \"tag\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n\n    if (isobject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      var colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames)), cssModule));\n    } else {\n      var _colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n\n      colClasses.push(_colClass);\n    }\n  });\n\n  if (!colClasses.length) {\n    colClasses.push('col');\n  }\n\n  var classes = mapToCssModules(classNames(className, colClasses), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCol.propTypes = propTypes;\nCol.defaultProps = defaultProps;\nexport default Col;","import React from \"react\";\nimport { CvShortHeader as CvHeader} from \"../../main_frame/payload_body/routes/cv/HeadersSupport\";\nimport Introduction from \"./sections/Introduction\";\nimport Setup from \"./sections/Setup\";\nimport BasicScenario from \"./sections/BasicScenario\";\nimport TraceFunction from \"./sections/TraceFunction\";\nimport FindCaller from \"./sections/FindCaller\";\nimport Timestamps from \"./sections/Timestamps\";\nimport CustomHandler from \"./sections/CustomHandler\";\nimport CustomHandlerMessageFilter from \"./sections/CustomHandlerMessageFilter\";\nimport CustomHandlerSignals from \"./sections/CustomHandlerSignals\";\nimport RegisteredProcessesTracking from \"./sections/RegisteredProcessesTracking\";\nimport Cleanup from \"./sections/Cleanup\";\nimport Conclusion from \"./sections/Conclusion\";\n\nfunction ErlangDbgText(props) {\n  return (\n    <div id = \"cvmainbody\">\n      <section id=\"Introduction\">\n      <CvHeader>Introduction</CvHeader>\n        <Introduction  />\n      </section>\n\n      <section  id=\"Setup\">\n      <CvHeader>Setup</CvHeader>\n        <Setup />\n      </section>\n\n      <section  id=\"BasicScenario\">\n      <CvHeader>Basic Scenario</CvHeader>\n        <BasicScenario />\n      </section>\n\n      <section  id=\"TraceFunction\">\n      <CvHeader>Trace Function</CvHeader>\n        <TraceFunction />\n      </section>\n\n      <section  id=\"FindCaller\">\n      <CvHeader>Function Caller Finding</CvHeader>\n        <FindCaller />\n      </section>\n\n      <section  id=\"Timestamps\">\n      <CvHeader>Timestamps</CvHeader>\n        <Timestamps />\n      </section>\n\n      <section  id=\"CustomHandler\">\n      <CvHeader>Custom Handler: Introduction</CvHeader>\n        <CustomHandler />\n      </section>\n\n      <section  id=\"CustomHandlerMessageFilter\">\n      <CvHeader>Custom Handler: Message Filter</CvHeader>\n        <CustomHandlerMessageFilter />\n      </section>\n\n      <section id=\"CustomHandlerSignals\">\n      <CvHeader>Custom Handler: Signals</CvHeader>\n        <CustomHandlerSignals />\n      </section>\n\n      <section  id=\"RegisteredProcessesTracking\">\n      <CvHeader>Registered Process Tracking</CvHeader>\n        <RegisteredProcessesTracking />\n      </section>\n\n      <section id=\"Cleanup\">\n      <CvHeader>Cleanup</CvHeader>\n        <Cleanup />\n      </section>\n\n      <section id=\"Conclusion\">\n      <CvHeader>Conclusion</CvHeader>\n        <Conclusion />\n      </section>\n\n      <div className=\"empty_scroll\"><br /></div>\n    </div>\n  );\n}\nexport default ErlangDbgText;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _throttle = _interopRequireDefault(require(\"./throttle\"));\n\nfunction isEqualArray(a, b) {\n  return a.length === b.length && a.every(function (item, index) {\n    return item === b[index];\n  });\n}\n\nvar Scrollspy =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(Scrollspy, _React$Component);\n  (0, _createClass2.default)(Scrollspy, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        items: _propTypes.default.arrayOf(_propTypes.default.string).isRequired,\n        currentClassName: _propTypes.default.string.isRequired,\n        scrolledPastClassName: _propTypes.default.string,\n        style: _propTypes.default.object,\n        componentTag: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func]),\n        offset: _propTypes.default.number,\n        rootEl: _propTypes.default.string,\n        onUpdate: _propTypes.default.func\n      };\n    }\n  }, {\n    key: \"defaultProps\",\n    get: function get() {\n      return {\n        items: [],\n        currentClassName: '',\n        style: {},\n        componentTag: 'ul',\n        offset: 0,\n        onUpdate: function onUpdate() {}\n      };\n    }\n  }]);\n\n  function Scrollspy(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Scrollspy);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Scrollspy).call(this, props));\n    _this.state = {\n      targetItems: [],\n      inViewState: [],\n      isScrolledPast: [] // manually bind as ES6 does not apply this\n      // auto binding as React.createClass does\n\n    };\n    _this._handleSpy = _this._handleSpy.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(Scrollspy, [{\n    key: \"_initSpyTarget\",\n    value: function _initSpyTarget(items) {\n      var targetItems = items.map(function (item) {\n        return document.getElementById(item);\n      });\n      return targetItems;\n    } // https://github.com/makotot/react-scrollspy/pull/45\n\n  }, {\n    key: \"_fillArray\",\n    value: function _fillArray(array, val) {\n      var newArray = [];\n\n      for (var i = 0, max = array.length; i < max; i++) {\n        newArray[i] = val;\n      }\n\n      return newArray;\n    }\n  }, {\n    key: \"_isScrolled\",\n    value: function _isScrolled() {\n      return this._getScrollDimension().scrollTop > 0;\n    }\n  }, {\n    key: \"_getScrollDimension\",\n    value: function _getScrollDimension() {\n      var doc = document;\n      var rootEl = this.props.rootEl;\n      var scrollTop = rootEl ? doc.querySelector(rootEl).scrollTop : doc.documentElement.scrollTop || doc.body.parentNode.scrollTop || doc.body.scrollTop;\n      var scrollHeight = rootEl ? doc.querySelector(rootEl).scrollHeight : doc.documentElement.scrollHeight || doc.body.parentNode.scrollHeight || doc.body.scrollHeight;\n      return {\n        scrollTop: scrollTop,\n        scrollHeight: scrollHeight\n      };\n    }\n  }, {\n    key: \"_getElemsViewState\",\n    value: function _getElemsViewState(targets) {\n      var elemsInView = [];\n      var elemsOutView = [];\n      var viewStatusList = [];\n      var targetItems = targets ? targets : this.state.targetItems;\n      var hasInViewAlready = false;\n\n      for (var i = 0, max = targetItems.length; i < max; i++) {\n        var currentContent = targetItems[i];\n        var isInView = hasInViewAlready ? false : this._isInView(currentContent);\n\n        if (isInView) {\n          hasInViewAlready = true;\n          elemsInView.push(currentContent);\n        } else {\n          elemsOutView.push(currentContent);\n        }\n\n        var isLastItem = i === max - 1;\n\n        var isScrolled = this._isScrolled(); // https://github.com/makotot/react-scrollspy/pull/26#issue-167413769\n\n\n        var isLastShortItemAtBottom = this._isAtBottom() && this._isInView(currentContent) && !isInView && isLastItem && isScrolled;\n\n        if (isLastShortItemAtBottom) {\n          elemsOutView.pop();\n          elemsOutView.push.apply(elemsOutView, (0, _toConsumableArray2.default)(elemsInView));\n          elemsInView = [currentContent];\n          viewStatusList = this._fillArray(viewStatusList, false);\n          isInView = true;\n        }\n\n        viewStatusList.push(isInView);\n      }\n\n      return {\n        inView: elemsInView,\n        outView: elemsOutView,\n        viewStatusList: viewStatusList,\n        scrolledPast: this.props.scrolledPastClassName && this._getScrolledPast(viewStatusList)\n      };\n    }\n  }, {\n    key: \"_isInView\",\n    value: function _isInView(el) {\n      if (!el) {\n        return false;\n      }\n\n      var _this$props = this.props,\n          rootEl = _this$props.rootEl,\n          offset = _this$props.offset;\n      var rootRect;\n\n      if (rootEl) {\n        rootRect = document.querySelector(rootEl).getBoundingClientRect();\n      }\n\n      var rect = el.getBoundingClientRect();\n      var winH = rootEl ? rootRect.height : window.innerHeight;\n\n      var _this$_getScrollDimen = this._getScrollDimension(),\n          scrollTop = _this$_getScrollDimen.scrollTop;\n\n      var scrollBottom = scrollTop + winH;\n      var elTop = rootEl ? rect.top + scrollTop - rootRect.top + offset : rect.top + scrollTop + offset;\n      var elBottom = elTop + el.offsetHeight;\n      return elTop < scrollBottom && elBottom > scrollTop;\n    }\n  }, {\n    key: \"_isAtBottom\",\n    value: function _isAtBottom() {\n      var rootEl = this.props.rootEl;\n\n      var _this$_getScrollDimen2 = this._getScrollDimension(),\n          scrollTop = _this$_getScrollDimen2.scrollTop,\n          scrollHeight = _this$_getScrollDimen2.scrollHeight;\n\n      var winH = rootEl ? document.querySelector(rootEl).getBoundingClientRect().height : window.innerHeight;\n      var scrolledToBottom = scrollTop + winH >= scrollHeight;\n      return scrolledToBottom;\n    }\n  }, {\n    key: \"_getScrolledPast\",\n    value: function _getScrolledPast(viewStatusList) {\n      if (!viewStatusList.some(function (item) {\n        return item;\n      })) {\n        return viewStatusList;\n      }\n\n      var hasFoundInView = false;\n      var scrolledPastItems = viewStatusList.map(function (item) {\n        if (item && !hasFoundInView) {\n          hasFoundInView = true;\n          return false;\n        }\n\n        return !hasFoundInView;\n      });\n      return scrolledPastItems;\n    }\n  }, {\n    key: \"_spy\",\n    value: function _spy(targets) {\n      var _this2 = this;\n\n      var elemensViewState = this._getElemsViewState(targets);\n\n      var currentStatuses = this.state.inViewState;\n      this.setState({\n        inViewState: elemensViewState.viewStatusList,\n        isScrolledPast: elemensViewState.scrolledPast\n      }, function () {\n        _this2._update(currentStatuses);\n      });\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(prevStatuses) {\n      if (isEqualArray(this.state.inViewState, prevStatuses)) {\n        return;\n      }\n\n      this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(true)]);\n    }\n  }, {\n    key: \"_handleSpy\",\n    value: function _handleSpy() {\n      (0, _throttle.default)(this._spy(), 100);\n    }\n  }, {\n    key: \"_initFromProps\",\n    value: function _initFromProps() {\n      var targetItems = this._initSpyTarget(this.props.items);\n\n      this.setState({\n        targetItems: targetItems\n      });\n\n      this._spy(targetItems);\n    }\n  }, {\n    key: \"offEvent\",\n    value: function offEvent() {\n      var el = this.props.rootEl ? document.querySelector(this.props.rootEl) : window;\n      el.removeEventListener('scroll', this._handleSpy);\n    }\n  }, {\n    key: \"onEvent\",\n    value: function onEvent() {\n      var el = this.props.rootEl ? document.querySelector(this.props.rootEl) : window;\n      el.addEventListener('scroll', this._handleSpy);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._initFromProps();\n\n      this.onEvent();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.offEvent();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps() {\n      this._initFromProps();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var Tag = this.props.componentTag;\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          className = _this$props2.className,\n          scrolledPastClassName = _this$props2.scrolledPastClassName,\n          style = _this$props2.style;\n      var counter = 0;\n\n      var items = _react.default.Children.map(children, function (child, idx) {\n        var _classNames;\n\n        if (!child) {\n          return null;\n        }\n\n        var ChildTag = child.type;\n        var isScrolledPast = scrolledPastClassName && _this3.state.isScrolledPast[idx];\n        var childClass = (0, _classnames.default)((_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(child.props.className), child.props.className), (0, _defineProperty2.default)(_classNames, \"\".concat(_this3.props.currentClassName), _this3.state.inViewState[idx]), (0, _defineProperty2.default)(_classNames, \"\".concat(_this3.props.scrolledPastClassName), isScrolledPast), _classNames));\n        return _react.default.createElement(ChildTag, (0, _extends2.default)({}, child.props, {\n          className: childClass,\n          key: counter++\n        }), child.props.children);\n      });\n\n      var itemClass = (0, _classnames.default)((0, _defineProperty2.default)({}, \"\".concat(className), className));\n      return _react.default.createElement(Tag, {\n        className: itemClass,\n        style: style\n      }, items);\n    }\n  }]);\n  return Scrollspy;\n}(_react.default.Component);\n\nexports.default = Scrollspy;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;"],"sourceRoot":""}